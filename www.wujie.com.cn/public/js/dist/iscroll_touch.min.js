function pullDownAction(){setTimeout(function(){touch.getAjaxDownData(),myScroll.refresh()},1e3)}function pullUpAction(){setTimeout(function(){touch.getAjaxUpData(),myScroll.refresh()},1e3)}function loaded(){pullDownEl=document.getElementById("pullDown"),pullDownOffset=pullDownEl.offsetHeight,pullUpEl=document.getElementById("pullUp"),pullUpOffset=pullUpEl.offsetHeight,myScroll=new iScroll("wrapper",{useTransition:!1,topOffset:pullDownOffset,checkDOMChanges:!0,edgeRestorePrevent:!0,onRefresh:function(){pullDownEl.className.match("loading")?(pullDownEl.className="",pullDownEl.querySelector(".pullDownLabel").innerHTML=""):pullUpEl.className.match("loading")&&(pullUpEl.className="",pullUpEl.querySelector(".pullUpLabel").innerHTML="")},onScrollMove:function(){this.y>5&&!pullDownEl.className.match("flip")?(pullDownEl.className="flip",pullDownEl.querySelector(".pullDownLabel").innerHTML="松手开始更新...",this.minScrollY=0):this.y<5&&pullDownEl.className.match("flip")?(pullDownEl.className="",pullDownEl.querySelector(".pullDownLabel").innerHTML="下拉刷新",this.minScrollY=-pullDownOffset):this.y<this.maxScrollY-5&&!pullUpEl.className.match("flip")?(pullUpEl.className="flip",pullUpEl.querySelector(".pullUpLabel").innerHTML="松手开始更新...",this.maxScrollY=this.maxScrollY):this.y>this.maxScrollY+5&&pullUpEl.className.match("flip")&&(pullUpEl.className="",pullUpEl.querySelector(".pullUpLabel").innerHTML="",this.maxScrollY=pullUpOffset)},onScrollEnd:function(){pullDownEl.className.match("flip")?(pullDownEl.className="loading",pullDownEl.querySelector(".pullDownLabel").innerHTML="正在刷新",pullDownAction()):pullUpEl.className.match("flip")&&(pullUpEl.className="loading",pullUpEl.querySelector(".pullUpLabel").innerHTML="加载中...",pullUpAction())}}),setTimeout(function(){document.getElementById("wrapper").style.left="0"},800)}var myScroll,pullDownEl,pullDownOffset,pullUpEl,pullUpOffset,generatedCount=0;document.addEventListener("DOMContentLoaded",loaded,!1);